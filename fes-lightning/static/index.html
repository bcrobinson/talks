<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
    <div class="reveal">
        <div class="slides">
<!--slides/-->
        <section>
<section data-markdown>
<textarea data-template>

# Fun things to do with typescript

FES July 2019

Ben R

https://bcrobinson.github.io/fes-2019-07/index.html
https://bit.ly/2YmeqR9

</textarea>
</section>

<section data-markdown>
<textarea data-template>

# Why Typescript

* I'm crap at spalling
* I like -~changing~~ renaming things
* It's more than `C# does JavaScript`

</textarea>
</section>

<section data-markdown>
<textarea data-template>

# Getting started

* All JavaScript is valid TypeScript
* Just rename your files from `index.js` -> `index.ts`
* Guides @ https://www.typescriptlang.org
* Playground @ https://www.typescriptlang.org/play/index.html

</textarea>
</section>
        </section>
        <section>
<!-- Header -->
<section data-markdown>
<textarea data-template>

# Typescript Basics

</textarea>
</section>

<!-- Typing 1 -->
<section data-markdown>
<textarea data-template>

### Adding Types

```typescript
let age: number = 2;

function addOne(num: number) {
    return num + 1;
}
```

</textarea>
</section>

<!-- Type inference -->
<section data-markdown>
<textarea data-template>
### Type inference

Can infer types with explicit markup

```typescript
let geeting = "hello";
// let geeting: string;

function stringify(value) {
    if(typeof value === "string") {
        return value
    }
    else if(typeof value === "number") {
        return value.toFixed(2)
    }
    else {
        return JSON.stringify(value)
    }
}
// function stringify(value: any): string
```

</textarea>
</section>

<!-- Get out of jail -->
<section data-markdown>
<textarea data-template>
### any - The get out of jail free card

If your stuck and just want it to work, just cast to any

`any` will tell the TypeScript compiler to stop checking that value

```typescript
function magic(value: any): any {
    /* ... */
}

let result = (ohNoes as any).doMagic()
```

</textarea>
</section>

<!-- interfaces 1 -->
<section data-markdown>
<textarea data-template>

### interfaces
Used to define what Objects look like

```typescript
interface Cat {
    age: number;
    purr(): void;
}

interface Dog {
    age: number;
    woof(): void;
}

interface Robot {
    serialNumber: number;
    beep(): void;
}
```

</textarea>
</section>

<!-- interfaces 2 -->
<section data-markdown>
<textarea data-template>

### interfaces

Creating values

```typescript
let dog: Dog = { 
    age: 4, 
    woof: () => console.log("bark") 
};

let cat: Cat = { 
    age: 7, 
    purr: () => { /* ignore */ } 
};

let robot: Robot = { 
    serialNumber: 3142, 
    beep: () => console.log("boop")
};
```

</textarea>
</section>

<!-- interfaces 3 -->
<section data-markdown>
<textarea data-template>

### interfaces

Uses structural typing

"Walks like a duck, quacks like a duck then it is a duck"

```typescript
function makeOlder(animal: { age: number }) {
    // I only care that it's an object with an "age" property
    animal.age += 1;
}

makeOlder(dog) // OK
makeOlder(cat) // OK 
makeOlder(robot) 
// Error
// Argument of type 'Robot' is not assignable to 
//    parameter of type '{ age: number; }'.
// Property 'age' is missing in type 'Robot' but 
//    required in type '{ age: number; }'
```

</textarea>
</section>

<!-- Type aliases -->
<section data-markdown>
<textarea data-template>

### Type aliases

```typescript
type AnotherString = string

// Intersection Types
type StringOrNumber = string | number

function doSomething(value: string | number);

doSomething(123) // OK
doSomething("abc") // OK
```

</textarea>
</section>

<!-- Type aliases 2 -->
<section data-markdown>
<textarea data-template>

### Type aliases - Literal Types

Allows you create types for *exact values*

```typescript
type yes = "yes";
type yesOrNo = "yes" | "no";

function makeSquare(size: "big" | "small") {
    if (size === "tiny") {
        // ERROR: This condition will always return 'false'
        //  since the types '"big" | "small"' and '"tiny"'
        // have no overlap.
        return { height: 1, width: 1 };
    }
}
```

</textarea>
</section>

<!-- Generics -->
<section data-markdown>
<textarea data-template>

### Generics
Allows you to write resusable code that works accross multiple types


```typescript
function map<T, U>(items: T[], mapper: (item: T) => U): U[]

let numbers: number[] = [1,2,3]
let strings: string[] = map([1,2,3], i => "num " + i);
```
</textarea>
</section>

        </section>
        <section>
<section data-markdown>
<textarea data-template>

# Type inference

* type inference
  * types on return values

* type guards
  * typeof x === "string"
  * x instanceof type
  * custon type guards `function isCat(value: any) value is Cat {}`

* Exhaustiveness checking
* resricting 

</textarea>
</section>

        </section>
        <section>
<section data-markdown>
<textarea data-template>

# Nullable checking

 * strict null checks
 * compile with `--strictNullChecks`
 * works with type guards
 
</textarea>
</section>

        </section>
        <section>
<section data-markdown>
<textarea data-template>

```typescript
function lens<T, K extends keyof T>(property: K) : (item: T) => T[K] {
    return (item) => item[property];
}


function makeSquare(size: "big" | "small") {
    if(size === "big") {
        return { height: 100, width: 100 };
    }
    else if(size === "tiny") { // Error "tin
        return { height: 1, width: 1 };
    }
}

```
 
</textarea>
</section>

        </section>

<!--/slides-->
        </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
        // More info about config & dependencies:
        // - https://github.com/hakimel/reveal.js#configuration
        // - https://github.com/hakimel/reveal.js#dependencies
        Reveal.initialize({
            dependencies: [
                { src: 'plugin/markdown/marked.js' },
                { src: 'plugin/markdown/markdown.js' },
                { src: 'plugin/notes/notes.js', async: true },
                { src: 'plugin/highlight/highlight.js', async: true }
            ]
        });
    </script>
</body>

</html>




































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































